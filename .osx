# OSX Settings
# Based on http://mths.be/osx

# Apply these settings manually by invoking this executable file.
# ./.osx

# Ask for the administrator password upfront

sudo -v

#
# User and host names
#

    # Set computer name (as done via System Preferences → Sharing)

    sudo scutil --set ComputerName "mikebook"
    sudo scutil --set HostName "mikebook"
    sudo scutil --set LocalHostName "mikebook"
    sudo defaults write /Library/Preferences/SystemConfiguration/com.apple.smb.server NetBIOSName -string "mikebook"

#
# Aesthetic and animation tweaks
#

    # Disable main OSX menu bar transparency

    defaults write NSGlobalDomain AppleEnableMenuBarTransparency -bool true

    # Show battery power remaining as a percentage

    defaults write com.apple.menuextra.battery ShowPercent -string "YES"
    defaults write com.apple.menuextra.battery ShowTime -string "NO"

    # Always show scrollbars

    defaults write NSGlobalDomain AppleShowScrollBars -string "Always"

    # Disable opening and closing window animations

    defaults write NSGlobalDomain NSAutomaticWindowAnimationsEnabled -bool false

    # Increase window resize speed for Cocoa applications

    defaults write NSGlobalDomain NSWindowResizeTime -float 0.001

    # Remove the auto-hiding Dock delay

    defaults write com.apple.Dock autohide-delay -float 0

    # Enable the 2D Dock

    defaults write com.apple.dock no-glass -bool true

    # Make Dock icons of hidden applications translucent

    defaults write com.apple.dock showhidden -bool true

    # Disable the sound effects on boot

    sudo nvram SystemAudioVolume=" "

    # Finder: disable window animations and Get Info animations

    defaults write com.apple.finder DisableAllAnimations -bool true

    # Don’t animate opening applications from the Dock

    defaults write com.apple.dock launchanim -bool false

    # Speed up Mission Control animations

    defaults write com.apple.dock expose-animation-duration -float 0.1

    # Automatically hide and show the Dock

    defaults write com.apple.dock autohide -bool true

    # Don’t show Dashboard as a Space

    defaults write com.apple.dock "dashboard-in-overlay" -bool true

#
# Typing tweaks
#

    # Disable smart quotes as they’re annoying when typing code

    defaults write NSGlobalDomain NSAutomaticQuoteSubstitutionEnabled -bool false

    # Disable smart dashes as they’re annoying when typing code

    defaults write NSGlobalDomain NSAutomaticDashSubstitutionEnabled -bool false

    # Enable full keyboard access for all controls (e.g. enable Tab in modal dialogs)

    defaults write NSGlobalDomain AppleKeyboardUIMode -int 3

    # Disable press-and-hold for keys in favor of key repeat

    defaults write NSGlobalDomain ApplePressAndHoldEnabled -bool false

    # Set a blazingly fast keyboard repeat rate

    defaults write NSGlobalDomain KeyRepeat -int 0

    # Set language and text formats

    defaults write NSGlobalDomain AppleLanguages -array "en"
    defaults write NSGlobalDomain AppleLocale -string "en_GB@currency=GBP"
    defaults write NSGlobalDomain AppleMeasurementUnits -string "Centimeters"
    defaults write NSGlobalDomain AppleMetricUnits -bool true

    # Disable auto-correct

    defaults write NSGlobalDomain NSAutomaticSpellingCorrectionEnabled -bool false

#
# Finder tweaks
#

    # Show all filename extensions

    defaults write NSGlobalDomain AppleShowAllExtensions -bool true

    # Show status bar

    defaults write com.apple.finder ShowStatusBar -bool true

    # Allow text selection in Quick Look

    defaults write com.apple.finder QLEnableTextSelection -bool true

    # Show hidden files by default

    defaults write com.apple.finder AppleShowAllFiles -bool true

    # Display full POSIX path as Finder window title

    defaults write com.apple.finder _FXShowPosixPathInTitle -bool true

    # Disable the warning when changing a file extension

    defaults write com.apple.finder FXEnableExtensionChangeWarning -bool false

    # Automatically open a new Finder window when a volume is mounted

    defaults write com.apple.frameworks.diskimages auto-open-ro-root -bool true
    defaults write com.apple.frameworks.diskimages auto-open-rw-root -bool true
    defaults write com.apple.finder OpenWindowForNewRemovableDisk -bool true

    # Use list view in all Finder windows by default
    # Four-letter codes for the other view modes: `icnv`, `clmv`, `Flwv`

    defaults write com.apple.finder FXPreferredViewStyle -string "clmv"

    # Show the ~/Library folder

    chflags nohidden ~/Library

#
# Functional tweaks
#

    # Expand save panel by default

    defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode -bool true

    # Expand print panel by default

    defaults write NSGlobalDomain PMPrintingExpandedStateForPrint -bool true

    # Save to disk (not to iCloud) by default

    defaults write NSGlobalDomain NSDocumentSaveNewDocumentsToCloud -bool false

    # Disable Resume system-wide

    defaults write NSGlobalDomain NSQuitAlwaysKeepsWindows -bool false

    # Disable automatic termination of inactive apps

    defaults write NSGlobalDomain NSDisableAutomaticTermination -bool true

    # Require password 5 seconds after sleep or screen saver begins

    defaults write com.apple.screensaver askForPassword -int 1
    defaults write com.apple.screensaver askForPasswordDelay -int 5

    # Save screenshots to the desktop

    defaults write com.apple.screencapture location -string "$HOME/Desktop"

    # Save screenshots in PNG format (other options: BMP, GIF, JPG, PDF, TIFF)

    defaults write com.apple.screencapture type -string "png"

    # Disable shadow in screenshots

    defaults write com.apple.screencapture disable-shadow -bool true

    # Enable subpixel font rendering on non-Apple LCDs

    defaults write NSGlobalDomain AppleFontSmoothing -int 2

    # Avoid creating .DS_Store files on network volumes

    defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool true

    # Enable snap-to-grid for desktop icons

    /usr/libexec/PlistBuddy -c "Set :DesktopViewSettings:IconViewSettings:arrangeBy grid" ~/Library/Preferences/com.apple.finder.plist

    # Disable the warning before emptying the Trash

    defaults write com.apple.finder WarnOnEmptyTrash -bool false

    # Empty Trash securely by default

    defaults write com.apple.finder EmptyTrashSecurely -bool true

    # Enable AirDrop over Ethernet and on unsupported Macs running Lion

    defaults write com.apple.NetworkBrowser BrowseAllInterfaces -bool true

#
# SSD
#

    # Disable local Time Machine snapshots. These are temporary backups that are
    # written to the HDD when the TM server is not available. They can thrash
    # your SSD and use up space.

    sudo tmutil disablelocal

    # Disable hibernation (speeds up entering sleep mode)

    sudo pmset -a hibernatemode 0

    # Remove the sleep image file to save disk space

    sudo rm /Private/var/vm/sleepimage

    # Create a zero-byte file instead…

    sudo touch /Private/var/vm/sleepimage

    # …and make sure it can’t be rewritten

    sudo chflags uchg /Private/var/vm/sleepimage

    # Disable the sudden motion sensor as it’s not useful for SSDs

    sudo pmset -a sms 0

echo "Done, restart to see all effects."
